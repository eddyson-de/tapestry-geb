plugins {
    id "com.jfrog.bintray" version "1.8.0"
}

description = "Utilities for Geb-based browser tests of Tapestry applications"

group = "de.eddyson"
version = "0.40.0"

apply plugin: 'groovy'
apply plugin: 'maven'

repositories {
  jcenter()
}

sourceCompatibility = '1.7'

task sourceJar(type: Jar) {
  dependsOn classes
  classifier "sources"
  from sourceSets.main.allSource
}

artifacts {
  archives sourceJar
}

ext.versions=[
  tapestry: '5.4.3',
  geb: '2.0',
  spock: '1.1-groovy-2.4',
  selenium: '3.7.0']

dependencies {
   compile "org.apache.tapestry:tapestry-runner:$versions.tapestry"
   compile "org.apache.tapestry:tapestry-core:$versions.tapestry"
   compile "org.gebish:geb-spock:$versions.geb"
   compile "org.spockframework:spock-core:$versions.spock"
   compile "org.seleniumhq.selenium:selenium-support:$versions.selenium"
   
}

bintray {
    user = 'fooberger'
    key = System.env.bintrayAPIKey
    configurations = ['archives']
    publish = true
    pkg {
        repo = 'maven'
        name = 'de.eddyson:tapestry-geb'
        licenses = ['Apache-2.0']
        vcsUrl = 'https://github.com/eddyson-de/tapestry-geb'
    }
}
